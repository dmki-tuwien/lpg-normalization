graphs:
  - name: "S9 - Rijden de Treinen"
    neo4j:
      from_dump: graphs/rijdendetreinen/rijdendetreinen_small.dump
     # from_file: graphs/rijdendetreinen_neo4j.cypher
    dependencies:
      - "()-[t:STOPS_AT:code]->(s:Station:name)::s.name=>t.code"
      - "(ts:TrainService:date&number&type)::ts.number,ts.date=>ts.type"
      - "(x::date&number&operator)-[:STOPS_AT]->()::x.number,x.date=>x.operator"
      - "(x:TrainService:serviceid)::x.serviceid=>x"
      - "()-[s:STOPS_AT:stopid]->()::s.stopid=>s"
      - "()-[s:STOPS_AT:departure&stopid]->(st)::s.departure,s.stopid=>st"
    minimal_cover:
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::s.name=>t.code"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::ts.number,ts.date=>ts.type,ts.operator"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::ts.serviceid=>ts"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::t.stopid=>t"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::t.departure,t.stopid=>s"
    source: "Based on \\url{https://opendata.rijdendetreinen.nl/public/services/services-2024.csv.gz}"
    dependency_origin: "User provided"

  - name: "S10 - Rijden de Treinen"
    neo4j:
      from_dump: graphs/rijdendetreinen/rijdendetreinen_small.dump
      # from_file: graphs/rijdendetreinen_neo4j.cypher
    dependencies:
      - "()-[t:STOPS_AT:code]->(s:Station:name)::s.name=>t.code"
      - "()-[t:STOPS_AT:code]->(s:Station:name)::t.code=>s.name"
      - "(ts:TrainService:date&number&type)::ts.number,ts.date=>ts.type"
      - "(x::date&number&operator)-[:STOPS_AT]->()::x.number,x.date=>x.operator"
      - "(x:TrainService:serviceid)::x.serviceid=>x"
      - "()-[s:STOPS_AT:stopid]->()::s.stopid=>s"
      - "()-[s:STOPS_AT:departure&stopid]->(st)::s.departure,s.stopid=>st"
    minimal_cover:
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::s.name=>t.code"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::t.code=>s.name"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::ts.number,ts.date=>ts.type,ts.operator"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::ts.serviceid=>ts"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::t.stopid=>t"
      - "(ts:TrainService:date&number&operator&serviceid&type)-[t:STOPS_AT:code&departure&stopid]->(s:Station:name)::t.departure,t.stopid=>s"
    source: "Based on \\url{https://opendata.rijdendetreinen.nl/public/services/services-2024.csv.gz}"
    dependency_origin: "User provided"

  - name: "S6 - Offshore"
    neo4j:
      from_dump: graphs/offshore.dump
    dependencies:
      - "(e:Entity:countries&service_provider&country_codes)::e.countries=>e.country_codes"
      - "(e:Entity:jurisdiction_description&countries&country_codes)::e.countries,e.jurisdiction_description=>e.country_codes"
      - "(e:Entity:service_provider&countries&country_codes)::e.country_codes=>e.countries"
    minimal_cover:
        - "(e:Entity:jurisdiction_description&countries&service_provider&country_codes)::e.countries=>e.country_codes"
        - "(e:Entity:jurisdiction_description&countries&service_provider&country_codes)::e.country_codes=>e.countries"

  - name: "S7 - Offshore"
    neo4j:
      from_dump: graphs/offshore.dump
    dependencies:
      - "(e:Entity:jurisdiction_description&countries&country_codes)::e.countries,e.jurisdiction_description=>e.country_codes"
      - "(e:Entity:sourceID&countries&country_codes)::e.countries,e.sourceID=>e.country_codes"
      - "(e:Entity:valid_until&countries&country_codes)::e.countries,e.valid_until=>e.country_codes"
      - "(e:Entity:sourceID&countries&country_codes)::e.country_codes,e.sourceID=>e.countries"
      - "(e:Entity:valid_until&countries&country_codes)::e.country_codes,e.valid_until=>e.countries"
    minimal_cover:
      - "(e:Entity:jurisdiction_description&countries&country_codes&sourceID&valid_until)::e.countries,e.jurisdiction_description=>e.country_codes"
      - "(e:Entity:jurisdiction_description&countries&country_codes&sourceID&valid_until)::e.countries,e.sourceID=>e.country_codes"
      - "(e:Entity:jurisdiction_description&countries&country_codes&sourceID&valid_until)::e.countries,e.valid_until=>e.country_codes"
      - "(e:Entity:jurisdiction_description&countries&country_codes&sourceID&valid_until)::e.country_codes,e.sourceID=>e.countries"
      - "(e:Entity:jurisdiction_description&countries&country_codes&sourceID&valid_until)::e.country_codes,e.valid_until=>e.countries"

  - name: "S8 - Offshore"
    neo4j:
      from_dump: graphs/offshore.dump
    dependencies:
      - "(e:Entity:countries&service_provider&country_codes)::e.countries=>e.country_codes"
      - "(e:Entity:jurisdiction_description&countries&country_codes)::e.countries,e.jurisdiction_description=>e.country_codes"
      - "(e:Entity:service_provider&countries&country_codes)::e.country_codes=>e.countries"
      - "(e:Entity:sourceID&countries&country_codes)::e.countries,e.sourceID=>e.country_codes"
      - "(e:Entity:valid_until&countries&country_codes)::e.countries,e.valid_until=>e.country_codes"
      - "(e:Entity:sourceID&countries&country_codes)::e.country_codes,e.sourceID=>e.countries"
      - "(e:Entity:valid_until&countries&country_codes)::e.country_codes,e.valid_until=>e.countries"
      - "(e:Entity:service_provider&sourceID&valid_until)::e.service_provider=>e.sourceID,e.valid_until"
      - "(e:Entity:service_provider&sourceID&valid_until)::e.sourceID=>e.valid_until"
      - "(e:Entity:service_provider&sourceID&valid_until)::e.valid_until=>e.sourceID"
    minimal_cover:
      - "(e:Entity:countries&service_provider&country_codes&jurisdiction_description&sourceID&valid_until)::e.countries=>e.country_codes"
      - "(e:Entity:countries&service_provider&country_codes&jurisdiction_description&sourceID&valid_until)::e.country_codes=>e.countries"
      - "(e:Entity:countries&service_provider&country_codes&jurisdiction_description&sourceID&valid_until)::e.service_provider=>e.sourceID,e.valid_until"
      - "(e:Entity:countries&service_provider&country_codes&jurisdiction_description&sourceID&valid_until)::e.sourceID=>e.valid_until"
      - "(e:Entity:countries&service_provider&country_codes&jurisdiction_description&sourceID&valid_until)::e.valid_until=>e.sourceID"

  - name: "S11 - University" # works
    from_file: graphs/lecture.cypher
    dependencies:
      - "(c:Course)<-[t:TEACHES:usingBook]-()::c=>t.usingBook"
    minimal_cover:
      - "(c:Course)<-[t:TEACHES:usingBook]-()::c=>t.usingBook"
    dependency_origin: "User provided"

  - name: "S12 - University" # works
    from_file: graphs/lecture.cypher
    dependencies:
      - "(c:Course:title)<-[t:TEACHES:usingBook]-()::c.title=>t.usingBook"
    minimal_cover:
      - "(c:Course:title)<-[t:TEACHES:usingBook]-()::c.title=>t.usingBook"
    dependency_origin: "User provided"

  - name: "S3 - No Socks" # works
    from_file: graphs/nosocks.cypher
    dependencies:
      - "(e:Event:company&time)::e.company,e.time=>e"
      - "(e:Event:name&company)::e.name=>e.company"
      - "(e:Event:name&time&venue)::e.name,e.time=>e.venue"
      - "(e:Event:time&venue&name)::e.time,e.venue=>e.name"
    minimal_cover:
      - "(e:Event:company&name&time&venue)::e.company,e.time=>e"
      - "(e:Event:company&name&time&venue)::e.name=>e.company"
      - "(e:Event:company&name&time&venue)::e.name,e.time=>e.venue"
      - "(e:Event:company&name&time&venue)::e.time,e.venue=>e.name"
     # - "(e:Event):e.company,e.time->e.company"
    dependency_origin: "User provided"
    source: "\\cite{skavantzos_third_2025}"
  - name: "S4 - No Socks" # works
    from_file: graphs/nosocks.cypher
    dependencies:
      - "(e:Event:company&time&venue)::e.company,e.time=>e.venue"
      #- "(e:Event:company&time)::e.company,e.time=>e"
      - "(e:Event:name&company)::e.name=>e.company"
      - "(e:Event:name&time&venue)::e.name,e.time=>e.venue"
      - "(e:Event:time&venue&name)::e.time,e.venue=>e.name"
      # - "(e:Event):e.company,e.time->e.company"
    minimal_cover:
      - "(e:Event:company&name&time&venue)::e.company,e.time=>e.venue"
      - "(e:Event:company&name&time&venue)::e.name=>e.company"
      - "(e:Event:company&name&time&venue)::e.name,e.time=>e.venue"
      - "(e:Event:company&name&time&venue)::e.time,e.venue=>e.name"
    dependency_origin: "User provided"
    source: "\\cite{skavantzos_third_2025}"

  - name: "S5 - No Socks 2" #works
    from_file: graphs/nosocks.cypher
    dependencies:
      - "(e:Event:company&time&venue)::e.company,e.time=>e"
      - "(e:Event:name&company)::e.name=>e.company"
      - "(e:Event:name&time&venue)::e.name,e.time=>e.venue"
      - "(e:Event:time&venue&name)::e.time,e.venue=>e.name"
      - "(e:Event&Confirmed:name&company&time)::e.name,e.company=>e.time"
    minimal_cover:
      - "(e:Event&Confirmed:company&name&time&venue)::e.company,e.time=>e"
      - "(e:Event&Confirmed:company&name&time&venue)::e.name=>e.company"
      - "(e:Event&Confirmed:company&name&time&venue)::e.name,e.time=>e.venue"
      - "(e:Event&Confirmed:company&name&time&venue)::e.time,e.venue=>e.name"
      - "(e:Event&Confirmed:company&name&time&venue)::e.name,e.company=>e.time"
    dependency_origin: "User provided"
    source: "\\cite{skavantzos_third_2025}"

  - name: "S2 - Northwind Orders"
    neo4j:
      from_file: graphs/northwind/scripts/northwind.cypher
    #memgraph:
    #  from_file: graphs/northwind_memgraph.cypher
    dependencies:
      - "(o:Order:orderID)::o.orderID=>o"
      - "(o:Order:orderID&orderDate&customerID&shipCity&shipPostalCode&shipCountry&shipAddress&shipRegion)::o.customerID=>o.shipCity,o.shipPostalCode,o.shipCountry,o.shipAddress,o.shipRegion"
    minimal_cover:
      - "(o:Order:orderID&orderDate&customerID&shipCity&shipPostalCode&shipCountry&shipAddress&shipRegion)::o.orderID=>o"
      - "(o:Order:orderID&orderDate&customerID&shipCity&shipPostalCode&shipCountry&shipAddress&shipRegion)::o.customerID=>o.shipCity,o.shipPostalCode,o.shipCountry,o.shipAddress,o.shipRegion"
    dependency_origin: "\\citet{skavantzos_third_2025}"
    source: "\\url{https://github.com/neo4j-graph-examples/northwind}"

  - name: "S1 - London Public Transport" # works
    neo4j:
      from_file: graphs/london_neo4j.cypher
  #  memgraph:
  #    from_file: graphs/london_memgraph.cypher --> I cant find the error here :(
    dependencies:
      - "(s:Station:zone&zoneOriginal)::s.zoneOriginal=>s.zone"
      - "(s:Station)-[c::line&color]->(t:Station)::c.line=>c.color"
      - "(s:Station:latitude&longitude&zone)::s.latitude,s.longitude=>s.zone"
      - "(s:Station:latitude&longitude)::s.latitude,s.longitude=>s"
    #  - line --> color type
    minimal_cover:
      - "(s:Station:zone&zoneOriginal&latitude&longitude)-[c::line&color]->(t:Station)::s.zoneOriginal=>s.zone"
      - "(s:Station:zone&zoneOriginal&latitude&longitude)-[c::line&color]->(t:Station)::c.line=>c.color"
      - "(s:Station:zone&zoneOriginal&latitude&longitude)-[c::line&color]->(t:Station)::s.latitude,s.longitude=>s"
    #  - line --> color type
    dependency_origin: "User provided"
    source: "Extended based on \\url{https://github.com/neo4j-partners/neo4j-transport-for-london}"
